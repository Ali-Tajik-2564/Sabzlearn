{"ast":null,"code":"import _slicedToArray from\"J:/ali/Sabzlearn/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./MainHeader.css\";import AuthContext from\"../../Context/AuthContext\";import{useContext}from\"react\";import{Link,useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MainHeader(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allMenus=_useState2[0],setAllMenus=_useState2[1];var authContext=useContext(AuthContext);console.log(\"authContext\",authContext);useEffect(function(){fetch(\"http://localhost:4000/v1/menus\").then(function(res){return res.json();}).then(function(data){return setAllMenus(data);});},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"main-header\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"main-header__content\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"main-header__right\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo/Logo.png\",class:\"main-header__logo\",alt:\"\\u0644\\u0648\\u06AF\\u0648\\u06CC \\u0633\\u0628\\u0632\\u0644\\u0631\\u0646\"}),/*#__PURE__*/_jsxs(\"ul\",{class:\"main-header__menu\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"main-header__item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",class:\"main-header__link\",children:\"\\u0635\\u0641\\u062D\\u0647 \\u0627\\u0635\\u0644\\u06CC\"})}),allMenus.map(function(menu){return/*#__PURE__*/_jsx(\"li\",{class:\"main-header__item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/category/\".concat(menu.href,\"/1\"),class:\"main-header__link\",children:[menu.title,menu.submenus.length!==0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-angle-down main-header__link-icon\"}),/*#__PURE__*/_jsx(\"ul\",{class:\"main-header__dropdown\",children:menu.submenus.map(function(submenu){return/*#__PURE__*/_jsx(\"li\",{class:\"main-header__dropdown-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/course-info/\".concat(submenu.href),class:\"main-header__dropdown-link\",children:submenu.title})},submenu.id);})})]})]})},menu.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"main-header__left\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",class:\"main-header__search-btn\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-search main-header__search-icon\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",class:\"main-header__cart-btn\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-shopping-cart main-header__cart-icon\"})}),authContext.isLoggedIn?/*#__PURE__*/_jsx(Link,{to:\"/my-account\",class:\"main-header__profile\",children:/*#__PURE__*/_jsx(\"span\",{class:\"main-header__profile-text\",children:authContext.userInfo.name})}):/*#__PURE__*/_jsx(Link,{to:\"/login\",class:\"main-header__profile\",children:/*#__PURE__*/_jsx(\"span\",{class:\"main-header__profile-text\",children:\"\\u062B\\u0628\\u062A \\u0646\\u0627\\u0645 / \\u0648\\u0631\\u0648\\u062F\"})})]})]})})})});}","map":{"version":3,"names":["React","useState","useEffect","AuthContext","useContext","Link","useParams","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MainHeader","_useState","_useState2","_slicedToArray","allMenus","setAllMenus","authContext","console","log","fetch","then","res","json","data","children","class","src","alt","href","map","menu","to","concat","title","submenus","length","submenu","id","isLoggedIn","userInfo","name"],"sources":["J:/ali/Sabzlearn/frontend/src/Components/MainHeader/MainHeader.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./MainHeader.css\";\r\nimport AuthContext from \"../../Context/AuthContext\";\r\nimport { useContext } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nexport default function MainHeader() {\r\n  const [allMenus, setAllMenus] = useState([]);\r\n  const authContext = useContext(AuthContext);\r\n  console.log(\"authContext\", authContext);\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:4000/v1/menus\")\r\n      .then((res) => res.json())\r\n      .then((data) => setAllMenus(data));\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <div class='main-header'>\r\n        <div class='container-fluid'>\r\n          <div class='main-header__content'>\r\n            <div class='main-header__right'>\r\n              <img\r\n                src='/images/logo/Logo.png'\r\n                class='main-header__logo'\r\n                alt='لوگوی سبزلرن'\r\n              />\r\n\r\n              <ul class='main-header__menu'>\r\n                <li class='main-header__item'>\r\n                  <a href='#' class='main-header__link'>\r\n                    صفحه اصلی\r\n                  </a>\r\n                </li>\r\n                {allMenus.map((menu) => (\r\n                  <li class='main-header__item' key={menu.id}>\r\n                    <Link\r\n                      to={`/category/${menu.href}/1`}\r\n                      class='main-header__link'>\r\n                      {menu.title}\r\n                      {menu.submenus.length !== 0 && (\r\n                        <>\r\n                          <i class='fas fa-angle-down main-header__link-icon'></i>\r\n                          <ul class='main-header__dropdown'>\r\n                            {menu.submenus.map((submenu) => (\r\n                              <li\r\n                                class='main-header__dropdown-item'\r\n                                key={submenu.id}>\r\n                                <Link\r\n                                  to={`/course-info/${submenu.href}`}\r\n                                  class='main-header__dropdown-link'>\r\n                                  {submenu.title}\r\n                                </Link>\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        </>\r\n                      )}\r\n                    </Link>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n\r\n            <div class='main-header__left'>\r\n              <a href='#' class='main-header__search-btn'>\r\n                <i class='fas fa-search main-header__search-icon'></i>\r\n              </a>\r\n              <a href='#' class='main-header__cart-btn'>\r\n                <i class='fas fa-shopping-cart main-header__cart-icon'></i>\r\n              </a>\r\n              {authContext.isLoggedIn ? (\r\n                <Link to='/my-account' class='main-header__profile'>\r\n                  <span class='main-header__profile-text'>\r\n                    {authContext.userInfo.name}\r\n                  </span>\r\n                </Link>\r\n              ) : (\r\n                <Link to='/login' class='main-header__profile'>\r\n                  <span class='main-header__profile-text'>ثبت نام / ورود</span>\r\n                </Link>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"+GAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,kBAAkB,CACzB,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,IAAI,CAAEC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,IAAAC,SAAA,CAAgCb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,WAAW,CAAGf,UAAU,CAACD,WAAW,CAAC,CAC3CiB,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEF,WAAW,CAAC,CACvCjB,SAAS,CAAC,UAAM,CACdoB,KAAK,CAAC,gCAAgC,CAAC,CACpCC,IAAI,CAAC,SAACC,GAAG,QAAK,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAC,CACzBF,IAAI,CAAC,SAACG,IAAI,QAAK,CAAAR,WAAW,CAACQ,IAAI,CAAC,GAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CACN,mBACElB,IAAA,QAAAmB,QAAA,cACEnB,IAAA,QAAKoB,KAAK,CAAC,aAAa,CAAAD,QAAA,cACtBnB,IAAA,QAAKoB,KAAK,CAAC,iBAAiB,CAAAD,QAAA,cAC1Bf,KAAA,QAAKgB,KAAK,CAAC,sBAAsB,CAAAD,QAAA,eAC/Bf,KAAA,QAAKgB,KAAK,CAAC,oBAAoB,CAAAD,QAAA,eAC7BnB,IAAA,QACEqB,GAAG,CAAC,uBAAuB,CAC3BD,KAAK,CAAC,mBAAmB,CACzBE,GAAG,CAAC,qEAAc,CACnB,CAAC,cAEFlB,KAAA,OAAIgB,KAAK,CAAC,mBAAmB,CAAAD,QAAA,eAC3BnB,IAAA,OAAIoB,KAAK,CAAC,mBAAmB,CAAAD,QAAA,cAC3BnB,IAAA,MAAGuB,IAAI,CAAC,GAAG,CAACH,KAAK,CAAC,mBAAmB,CAAAD,QAAA,CAAC,mDAEtC,CAAG,CAAC,CACF,CAAC,CACJV,QAAQ,CAACe,GAAG,CAAC,SAACC,IAAI,qBACjBzB,IAAA,OAAIoB,KAAK,CAAC,mBAAmB,CAAAD,QAAA,cAC3Bf,KAAA,CAACP,IAAI,EACH6B,EAAE,cAAAC,MAAA,CAAeF,IAAI,CAACF,IAAI,MAAK,CAC/BH,KAAK,CAAC,mBAAmB,CAAAD,QAAA,EACxBM,IAAI,CAACG,KAAK,CACVH,IAAI,CAACI,QAAQ,CAACC,MAAM,GAAK,CAAC,eACzB1B,KAAA,CAAAF,SAAA,EAAAiB,QAAA,eACEnB,IAAA,MAAGoB,KAAK,CAAC,0CAA0C,CAAI,CAAC,cACxDpB,IAAA,OAAIoB,KAAK,CAAC,uBAAuB,CAAAD,QAAA,CAC9BM,IAAI,CAACI,QAAQ,CAACL,GAAG,CAAC,SAACO,OAAO,qBACzB/B,IAAA,OACEoB,KAAK,CAAC,4BAA4B,CAAAD,QAAA,cAElCnB,IAAA,CAACH,IAAI,EACH6B,EAAE,iBAAAC,MAAA,CAAkBI,OAAO,CAACR,IAAI,CAAG,CACnCH,KAAK,CAAC,4BAA4B,CAAAD,QAAA,CACjCY,OAAO,CAACH,KAAK,CACV,CAAC,EALFG,OAAO,CAACC,EAMX,CAAC,EACN,CAAC,CACA,CAAC,EACL,CACH,EACG,CAAC,EAvB0BP,IAAI,CAACO,EAwBpC,CAAC,EACN,CAAC,EACA,CAAC,EACF,CAAC,cAEN5B,KAAA,QAAKgB,KAAK,CAAC,mBAAmB,CAAAD,QAAA,eAC5BnB,IAAA,MAAGuB,IAAI,CAAC,GAAG,CAACH,KAAK,CAAC,yBAAyB,CAAAD,QAAA,cACzCnB,IAAA,MAAGoB,KAAK,CAAC,wCAAwC,CAAI,CAAC,CACrD,CAAC,cACJpB,IAAA,MAAGuB,IAAI,CAAC,GAAG,CAACH,KAAK,CAAC,uBAAuB,CAAAD,QAAA,cACvCnB,IAAA,MAAGoB,KAAK,CAAC,6CAA6C,CAAI,CAAC,CAC1D,CAAC,CACHT,WAAW,CAACsB,UAAU,cACrBjC,IAAA,CAACH,IAAI,EAAC6B,EAAE,CAAC,aAAa,CAACN,KAAK,CAAC,sBAAsB,CAAAD,QAAA,cACjDnB,IAAA,SAAMoB,KAAK,CAAC,2BAA2B,CAAAD,QAAA,CACpCR,WAAW,CAACuB,QAAQ,CAACC,IAAI,CACtB,CAAC,CACH,CAAC,cAEPnC,IAAA,CAACH,IAAI,EAAC6B,EAAE,CAAC,QAAQ,CAACN,KAAK,CAAC,sBAAsB,CAAAD,QAAA,cAC5CnB,IAAA,SAAMoB,KAAK,CAAC,2BAA2B,CAAAD,QAAA,CAAC,kEAAc,CAAM,CAAC,CACzD,CACP,EACE,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}