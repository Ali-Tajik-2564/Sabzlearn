{"ast":null,"code":"import _slicedToArray from\"J:/ali/Sabzlearn/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CmsTopbar(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userNotification=_useState4[0],setUserNotification=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isShowNotifModal=_useState6[0],setIsShowNotifModal=_useState6[1];useEffect(function(){var localStorageData=JSON.parse(localStorage.getItem(\"user\"));fetch(\"http://localhost:4000/v1/auth/me\",{headers:{\"Authorization\":\"Bearer \".concat(localStorageData)}}).then(function(res){return res.json();}).then(function(data){console.log(data);setUserInfo(data);setUserNotification(data.notifications);});},[seeNotification]);function seeNotification(notificationID){var localStorageData=JSON.parse(localStorage.getItem(\"user\"));fetch(\"http://localhost:4000/v1/notifications/see/\".concat(notificationID),{method:\"PUT\",headers:{\"Authorization\":\"Bearer \".concat(localStorageData)}}).then(function(res){return res.json();}).then(function(result){return console.log(result);});}return/*#__PURE__*/_jsx(\"div\",{class:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\".concat(isShowNotifModal===true?\"active-modal-notfication\":\"\"),children:/*#__PURE__*/_jsxs(\"div\",{class:\"home-header\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"home-right\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"home-searchbar\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"search-bar\",placeholder:\"\\u062C\\u0633\\u062A\\u062C\\u0648...\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"home-notification\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",children:/*#__PURE__*/_jsx(\"i\",{class:\"far fa-bell\",onMouseEnter:function onMouseEnter(){return setIsShowNotifModal(true);}})})}),/*#__PURE__*/_jsx(\"div\",{class:\"home-notification-modal\",onMouseEnter:function onMouseEnter(){return setIsShowNotifModal(true);},onMouseLeave:function onMouseLeave(){return setIsShowNotifModal(false);},children:/*#__PURE__*/_jsx(\"ul\",{class:\"home-notification-modal-list\",children:userNotification.length===0?/*#__PURE__*/_jsx(\"li\",{class:\"home-notification-modal-item\",children:\"\\u067E\\u06CC\\u0627\\u0645\\u06CC \\u06CC\\u0627\\u0641\\u062A \\u0646\\u0634\\u062F\"}):/*#__PURE__*/_jsx(_Fragment,{children:userNotification.map(function(notification){return/*#__PURE__*/_jsxs(\"li\",{class:\"home-notification-modal-item\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"home-notification-modal-text\",children:notification}),/*#__PURE__*/_jsx(\"label\",{class:\"switch\",children:/*#__PURE__*/_jsx(\"a\",{href:\"javascript:void(0)\",onClick:function onClick(){return seeNotification(notification._id);},children:\"\\u062F\\u06CC\\u062F\\u0645\"})})]});})})})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"home-left\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"home-profile\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"home-profile-image\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/profile.jpg\",alt:\"\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"home-profile-name\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:userInfo.name})}),/*#__PURE__*/_jsx(\"div\",{class:\"home-profile-icon\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-angle-down\"})})]})})]})})});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CmsTopbar","_useState","_useState2","_slicedToArray","userInfo","setUserInfo","_useState3","_useState4","userNotification","setUserNotification","_useState5","_useState6","isShowNotifModal","setIsShowNotifModal","localStorageData","JSON","parse","localStorage","getItem","fetch","headers","concat","then","res","json","data","console","log","notifications","seeNotification","notificationID","method","result","class","children","type","placeholder","onMouseEnter","onMouseLeave","length","map","notification","href","onClick","_id","src","alt","name"],"sources":["J:/ali/Sabzlearn/frontend/src/Components/AdminPanel/CmsTopbar/CmsTopbar.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nexport default function CmsTopbar() {\r\n    const [userInfo, setUserInfo] = useState({})\r\n    const [userNotification, setUserNotification] = useState([])\r\n    const [isShowNotifModal, setIsShowNotifModal] = useState(false)\r\n\r\n    useEffect(() => {\r\n        const localStorageData = JSON.parse(localStorage.getItem(\"user\"))\r\n        fetch(\"http://localhost:4000/v1/auth/me\", {\r\n            headers: {\r\n                \"Authorization\": `Bearer ${localStorageData}`\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                setUserInfo(data)\r\n                setUserNotification(data.notifications)\r\n            })\r\n    }, [seeNotification])\r\n    function seeNotification(notificationID) {\r\n        const localStorageData = JSON.parse(localStorage.getItem(\"user\"))\r\n        fetch(`http://localhost:4000/v1/notifications/see/${notificationID}`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n                \"Authorization\": `Bearer ${localStorageData}`\r\n            }\r\n        })\r\n            .then(res => res.json())\r\n            .then(result => console.log(result\r\n            ))\r\n\r\n    }\r\n    return (\r\n        <div class=\"container-fluid\">\r\n            <div class={`container${isShowNotifModal === true ? \"active-modal-notfication\" : \"\"}`}>\r\n                <div class={`home-header`}>\r\n                    <div class=\"home-right\">\r\n                        <div class=\"home-searchbar\">\r\n                            <input type=\"text\" class=\"search-bar\" placeholder=\"جستجو...\" />\r\n                        </div>\r\n                        <div class=\"home-notification\">\r\n                            <button type=\"button\">\r\n                                <i class=\"far fa-bell\" onMouseEnter={() => setIsShowNotifModal(true)}></i>\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"home-notification-modal\" onMouseEnter={() => setIsShowNotifModal(true)} onMouseLeave={() => setIsShowNotifModal(false)}>\r\n                            <ul class=\"home-notification-modal-list\">\r\n                                {userNotification.length === 0 ? (\r\n                                    <li class=\"home-notification-modal-item\">\r\n                                        پیامی یافت نشد\r\n                                    </li>\r\n                                ) : (<>\r\n                                    {userNotification.map(notification => (\r\n\r\n                                        <li class=\"home-notification-modal-item\">\r\n                                            <span class=\"home-notification-modal-text\">{notification}</span>\r\n                                            <label class=\"switch\">\r\n                                                <a href=\"javascript:void(0)\" onClick={() => seeNotification(notification._id)}>دیدم</a>\r\n                                            </label>\r\n                                        </li>))}\r\n                                </>)}\r\n\r\n\r\n\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"home-left\">\r\n                        <div class=\"home-profile\">\r\n                            <div class=\"home-profile-image\">\r\n                                <a href=\"#\">\r\n                                    <img src=\"/images/profile.jpg\" alt=\"\" />\r\n                                </a>\r\n                            </div>\r\n                            <div class=\"home-profile-name\">\r\n                                <a href=\"#\">{userInfo.name}</a>\r\n                            </div>\r\n                            <div class=\"home-profile-icon\">\r\n                                <i class=\"fas fa-angle-down\"></i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}