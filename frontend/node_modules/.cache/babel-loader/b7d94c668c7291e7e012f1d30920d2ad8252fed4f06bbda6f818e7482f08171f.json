{"ast":null,"code":"import _slicedToArray from\"J:/ali/Sabzlearn/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"J:/ali/Sabzlearn/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"J:/ali/Sabzlearn/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useCallback,useReducer}from\"react\";var formReducer=function formReducer(state,action){switch(action.type){case\"INPUT_CHANGE\":{var isFormValid=true;for(var inputId in state.inputs){if(inputId===action.inputId){isFormValid=isFormValid&&action.isValid;}else{isFormValid=isFormValid&&state.inputs[inputId].isValid;}}return _objectSpread(_objectSpread({},state),{},{inputs:_objectSpread(_objectSpread({},state.inputs),{},_defineProperty({},action.inputId,{value:action.value,isValid:action.isValid})),isFormValid:isFormValid});}default:{return state;}}};export var useForm=function useForm(initInputs,initFormIsValid){var _useReducer=useReducer(formReducer,{inputs:initInputs,isFormValid:initFormIsValid}),_useReducer2=_slicedToArray(_useReducer,2),formState=_useReducer2[0],dispatch=_useReducer2[1];var onInputHandler=useCallback(function(id,value,isValid){dispatch({type:\"INPUT_CHANGE\",value:value,isValid:isValid,inputId:id});},[]);return[formState,onInputHandler];};","map":{"version":3,"names":["useCallback","useReducer","formReducer","state","action","type","isFormValid","inputId","inputs","isValid","_objectSpread","_defineProperty","value","useForm","initInputs","initFormIsValid","_useReducer","_useReducer2","_slicedToArray","formState","dispatch","onInputHandler","id"],"sources":["J:/ali/Sabzlearn/frontend/src/hooks/useForm.jsx"],"sourcesContent":["import { useCallback, useReducer } from \"react\";\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"INPUT_CHANGE\": {\r\n      let isFormValid = true;\r\n      for (const inputId in state.inputs) {\r\n        if (inputId === action.inputId) {\r\n          isFormValid = isFormValid && action.isValid;\r\n        } else {\r\n          isFormValid = isFormValid && state.inputs[inputId].isValid;\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        inputs: {\r\n          ...state.inputs,\r\n          [action.inputId]: {\r\n            value: action.value,\r\n            isValid: action.isValid,\r\n          },\r\n        },\r\n        isFormValid: isFormValid,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\nexport const useForm = (initInputs, initFormIsValid) => {\r\n  const [formState, dispatch] = useReducer(formReducer, {\r\n    inputs: initInputs,\r\n    isFormValid: initFormIsValid,\r\n  });\r\n  const onInputHandler = useCallback((id, value, isValid) => {\r\n    dispatch({\r\n      type: \"INPUT_CHANGE\",\r\n      value,\r\n      isValid,\r\n      inputId: id,\r\n    });\r\n  }, []);\r\n  return [formState, onInputHandler];\r\n};\r\n"],"mappings":"8UAAA,OAASA,WAAW,CAAEC,UAAU,KAAQ,OAAO,CAC/C,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACrC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,cAAc,CAAE,CACnB,GAAI,CAAAC,WAAW,CAAG,IAAI,CACtB,IAAK,GAAM,CAAAC,OAAO,GAAI,CAAAJ,KAAK,CAACK,MAAM,CAAE,CAClC,GAAID,OAAO,GAAKH,MAAM,CAACG,OAAO,CAAE,CAC9BD,WAAW,CAAGA,WAAW,EAAIF,MAAM,CAACK,OAAO,CAC7C,CAAC,IAAM,CACLH,WAAW,CAAGA,WAAW,EAAIH,KAAK,CAACK,MAAM,CAACD,OAAO,CAAC,CAACE,OAAO,CAC5D,CACF,CACA,OAAAC,aAAA,CAAAA,aAAA,IACKP,KAAK,MACRK,MAAM,CAAAE,aAAA,CAAAA,aAAA,IACDP,KAAK,CAACK,MAAM,KAAAG,eAAA,IACdP,MAAM,CAACG,OAAO,CAAG,CAChBK,KAAK,CAAER,MAAM,CAACQ,KAAK,CACnBH,OAAO,CAAEL,MAAM,CAACK,OAClB,CAAC,EACF,CACDH,WAAW,CAAEA,WAAW,GAE5B,CACA,QAAS,CACP,MAAO,CAAAH,KAAK,CACd,CACF,CACF,CAAC,CACD,MAAO,IAAM,CAAAU,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,UAAU,CAAEC,eAAe,CAAK,CACtD,IAAAC,WAAA,CAA8Bf,UAAU,CAACC,WAAW,CAAE,CACpDM,MAAM,CAAEM,UAAU,CAClBR,WAAW,CAAES,eACf,CAAC,CAAC,CAAAE,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAHKG,SAAS,CAAAF,YAAA,IAAEG,QAAQ,CAAAH,YAAA,IAI1B,GAAM,CAAAI,cAAc,CAAGrB,WAAW,CAAC,SAACsB,EAAE,CAAEV,KAAK,CAAEH,OAAO,CAAK,CACzDW,QAAQ,CAAC,CACPf,IAAI,CAAE,cAAc,CACpBO,KAAK,CAALA,KAAK,CACLH,OAAO,CAAPA,OAAO,CACPF,OAAO,CAAEe,EACX,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAACH,SAAS,CAAEE,cAAc,CAAC,CACpC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}